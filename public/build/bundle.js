var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let d;function p(t){d=t}const $=[],U=[],v=[],b=[],x=Promise.resolve();let y=!1;function j(t){v.push(t)}const P=new Set;let R=0;function _(){const t=d;do{for(;R<$.length;){const t=$[R];R++,p(t),w(t.$$)}for(p(null),$.length=0,R=0;U.length;)U.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];P.has(e)||(P.add(e),e())}v.length=0}while($.length);for(;b.length;)b.pop()();y=!1,P.clear(),p(t)}function w(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const M=new Set;function k(t,e){-1===t.$$.dirty[0]&&($.push(t),y||(y=!0,x.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(i,l,s,u,a,f,h,m=[-1]){const g=d;p(i);const $=i.$$={fragment:null,ctx:null,props:f,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(g?g.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:l.target||g.$$.root};h&&h($.root);let U=!1;if($.ctx=s?s(i,l.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return $.ctx&&a($.ctx[t],$.ctx[t]=o)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](o),U&&k(i,t)),e})):[],$.update(),U=!0,o($.before_update),$.fragment=!!u&&u($.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);$.fragment&&$.fragment.l(t),t.forEach(c)}else $.fragment&&$.fragment.c();l.intro&&((v=i.$$.fragment)&&v.i&&(M.delete(v),v.i(b))),function(t,n,i,l){const{fragment:s,on_mount:c,on_destroy:u,after_update:a}=t.$$;s&&s.m(n,i),l||j((()=>{const n=c.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(j)}(i,l.target,l.anchor,l.customElement),_()}var v,b;p(g)}class T{constructor(t="",e=0,n=0,o=function(){return!0},r=function(){return!0}){this.name=t,this.value=e,this.total=n,this.visible=o,this.requirement=r}}class A{constructor(t=T(),e=T(),n=1,o=1,r=0){this.fromUnit=t,this.toUnit=e,this.basePer=n,this.currentPer=o,this.increasePer=r}convert(){this.toUnit.value+=Math.floor(this.fromUnit.value/this.currentPer),this.toUnit.total+=Math.floor(this.fromUnit.value/this.currentPer),this.fromUnit.value%=this.currentPer,this.currentPer=this.basePer+this.increasePer*this.toUnit.value}getRatio(){return this.currentPer/this.basePer}}class E{constructor(t=[]){this.timeUnitRelations=t}convert(){for(let t in this.timeUnitRelations){let e=this.timeUnitRelations[t];if(e.fromUnit.value<e.currentPer)break;e.convert()}}getTimeUnits(){let t=[];for(let e in this.timeUnitRelations){let n=this.timeUnitRelations[e];0==e&&t.push(n.fromUnit),t.push(n.toUnit)}return t}getRatio(){let t=1;for(let e in this.timeUnitRelations){t*=this.timeUnitRelations[e].getRatio()}return t}}function S(t,e,n){const o=t.slice();return o[8]=e[n],o}function q(t,e,n){const o=t.slice();return o[8]=e[n],o}function N(t,e,n){const o=t.slice();return o[13]=e[n],o}function O(t,e,n){const o=t.slice();return o[13]=e[n],o}function G(t){let e,n,o,r=t[13].name+"";return{c(){e=a("td"),n=f(r),o=h(),m(e,"class","svelte-1jjc0t3")},m(t,r){s(t,e,r),l(e,n),l(e,o)},p(t,e){1&e&&r!==(r=t[13].name+"")&&g(n,r)},d(t){t&&c(e)}}}function z(t){let e,n,o,r=Math.floor(t[13].value)+"";return{c(){e=a("td"),n=f(r),o=h(),m(e,"class","svelte-1jjc0t3")},m(t,r){s(t,e,r),l(e,n),l(e,o)},p(t,e){1&e&&r!==(r=Math.floor(t[13].value)+"")&&g(n,r)},d(t){t&&c(e)}}}function B(t){let e,n,o,r=Math.floor(t[8].currentPer)+"";return{c(){e=a("td"),n=f(r),o=h(),m(e,"class","svelte-1jjc0t3")},m(t,r){s(t,e,r),l(e,n),l(e,o)},p(t,e){1&e&&r!==(r=Math.floor(t[8].currentPer)+"")&&g(n,r)},d(t){t&&c(e)}}}function F(t){let e,n,o,r=t[8].getRatio().toPrecision(5)+"";return{c(){e=a("td"),n=f(r),o=h(),m(e,"class","svelte-1jjc0t3")},m(t,r){s(t,e,r),l(e,n),l(e,o)},p(t,e){1&e&&r!==(r=t[8].getRatio().toPrecision(5)+"")&&g(n,r)},d(t){t&&c(e)}}}function H(e){let n,o,r,i,d,p,$,U,v,b,x,y,j,P,R,_,w,M,k,C,T,A,E,H,I,D,J,K,L,Q,V,W=(1+Math.log(e[1]+1)).toPrecision(5)+"",X=e[0].getTimeUnits(),Y=[];for(let t=0;t<X.length;t+=1)Y[t]=G(O(e,X,t));let Z=e[0].getTimeUnits(),tt=[];for(let t=0;t<Z.length;t+=1)tt[t]=z(N(e,Z,t));let et=e[0].timeUnitRelations,nt=[];for(let t=0;t<et.length;t+=1)nt[t]=B(q(e,et,t));let ot=e[0].timeUnitRelations,rt=[];for(let t=0;t<ot.length;t+=1)rt[t]=F(S(e,ot,t));return{c(){n=a("button"),n.textContent="Go",o=h(),r=a("h1"),r.textContent="Untitled Game",i=h(),d=a("table"),p=a("thead"),$=a("td"),$.textContent="Units:",U=h();for(let t=0;t<Y.length;t+=1)Y[t].c();v=h(),b=a("tbody"),x=a("tr"),y=a("td"),y.textContent="Amount:",j=h();for(let t=0;t<tt.length;t+=1)tt[t].c();P=h(),R=a("tr"),_=a("td"),_.textContent="Max:",w=h();for(let t=0;t<nt.length;t+=1)nt[t].c();M=h(),k=a("tr"),C=a("td"),C.textContent="Squeezing more of this unit into the next one is speeding up time by:",T=h();for(let t=0;t<rt.length;t+=1)rt[t].c();A=h(),E=a("p"),E.textContent="Points:",H=h(),I=a("p"),D=f(e[1]),J=h(),K=a("p"),K.textContent="Points are speeding up time by a factor of:",L=h(),Q=a("p"),V=f(W),m(n,"onclick","start()"),m($,"class","svelte-1jjc0t3"),m(y,"class","svelte-1jjc0t3"),m(_,"class","svelte-1jjc0t3"),m(C,"class","svelte-1jjc0t3"),m(d,"class","svelte-1jjc0t3"),m(I,"id","pointsAmount"),m(Q,"id","pointsFactor")},m(t,e){s(t,n,e),s(t,o,e),s(t,r,e),s(t,i,e),s(t,d,e),l(d,p),l(p,$),l(p,U);for(let t=0;t<Y.length;t+=1)Y[t].m(p,null);l(d,v),l(d,b),l(b,x),l(x,y),l(x,j);for(let t=0;t<tt.length;t+=1)tt[t].m(x,null);l(b,P),l(b,R),l(R,_),l(R,w);for(let t=0;t<nt.length;t+=1)nt[t].m(R,null);l(b,M),l(b,k),l(k,C),l(k,T);for(let t=0;t<rt.length;t+=1)rt[t].m(k,null);s(t,A,e),s(t,E,e),s(t,H,e),s(t,I,e),l(I,D),s(t,J,e),s(t,K,e),s(t,L,e),s(t,Q,e),l(Q,V)},p(t,[e]){if(1&e){let n;for(X=t[0].getTimeUnits(),n=0;n<X.length;n+=1){const o=O(t,X,n);Y[n]?Y[n].p(o,e):(Y[n]=G(o),Y[n].c(),Y[n].m(p,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=X.length}if(1&e){let n;for(Z=t[0].getTimeUnits(),n=0;n<Z.length;n+=1){const o=N(t,Z,n);tt[n]?tt[n].p(o,e):(tt[n]=z(o),tt[n].c(),tt[n].m(x,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=Z.length}if(1&e){let n;for(et=t[0].timeUnitRelations,n=0;n<et.length;n+=1){const o=q(t,et,n);nt[n]?nt[n].p(o,e):(nt[n]=B(o),nt[n].c(),nt[n].m(R,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}if(1&e){let n;for(ot=t[0].timeUnitRelations,n=0;n<ot.length;n+=1){const o=S(t,ot,n);rt[n]?rt[n].p(o,e):(rt[n]=F(o),rt[n].c(),rt[n].m(k,null))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=ot.length}2&e&&g(D,t[1]),2&e&&W!==(W=(1+Math.log(t[1]+1)).toPrecision(5)+"")&&g(V,W)},i:t,o:t,d(t){t&&c(n),t&&c(o),t&&c(r),t&&c(i),t&&c(d),u(Y,t),u(tt,t),u(nt,t),u(rt,t),t&&c(A),t&&c(E),t&&c(H),t&&c(I),t&&c(J),t&&c(K),t&&c(L),t&&c(Q)}}}function I(t,e,n){var o=new T("Seconds"),r=new T("Minutes"),i=new T("Hours"),l=new A(o,r,60,60,10),s=new A(r,i,60,60,15),c=new E([l,s]),u=0;return window.start=function(){console.log("Starting..."),setInterval((()=>function(){let t=(1+Math.log(u+1))*c.getRatio();n(1,u+=t),n(0,c.timeUnitRelations[0].fromUnit.value+=t,c),n(0,c.timeUnitRelations[0].fromUnit.total+=t,c),c.convert()}()),50)},[c,u]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),C(this,t,I,H,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
